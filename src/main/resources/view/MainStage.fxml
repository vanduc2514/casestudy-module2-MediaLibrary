<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Rectangle2D?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ContextMenu?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.RadioMenuItem?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.SeparatorMenuItem?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.effect.Glow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.input.KeyCodeCombination?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.TilePane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane fx:id="borderPane" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="720.0" prefWidth="1280.0" xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1" fx:controller="main.resources.controllers.MainStage">
    <top>
        <MenuBar BorderPane.alignment="CENTER">
            <Menu mnemonicParsing="false" text="File">
                <MenuItem mnemonicParsing="false" onAction="#createNewLibrary" text="Tạo thư viện mới">
                    <accelerator>
                        <KeyCodeCombination alt="UP" code="N" control="DOWN" meta="UP" shift="UP" shortcut="UP" />
                    </accelerator>
                </MenuItem>
                <SeparatorMenuItem mnemonicParsing="false" />
                <MenuItem mnemonicParsing="false" onAction="#addFiles" text="Thêm từ Files..." />
                <MenuItem mnemonicParsing="false" onAction="#addFolder" text="Thêm từ Folder..." />
                <SeparatorMenuItem mnemonicParsing="false" />
                <MenuItem mnemonicParsing="false" onAction="#deleteLibrary" text="Xoá toàn bộ thư viện" />
                <SeparatorMenuItem mnemonicParsing="false" />
                <MenuItem mnemonicParsing="false" onAction="#exit" text="Đóng ứng dụng" />
            </Menu>
            <Menu mnemonicParsing="false" text="Sửa">
                <MenuItem mnemonicParsing="false" onAction="#showSongDetail" text="Sửa thông tin..." />
                <MenuItem mnemonicParsing="false" onAction="#removeSong" text="Xoá" />
            </Menu>
            <Menu mnemonicParsing="false" text="Xem">
                <MenuItem mnemonicParsing="false" text="Xem theo tên bài hát" />
                <MenuItem mnemonicParsing="false" text="Xem theo tên ca sỹ" />
                <MenuItem mnemonicParsing="false" text="Xem theo ca sỹ" />
                <MenuItem mnemonicParsing="false" text="Xem theo Album" />
                <MenuItem mnemonicParsing="false" text="Xem theo thể loại" />
                <SeparatorMenuItem mnemonicParsing="false" />
                <Menu mnemonicParsing="false" text="Sắp xếp">
                    <RadioMenuItem fx:id="trackSort" mnemonicParsing="false" onAction="#sortByTrack" selected="true" text="Sắp xếp theo Track">
                        <toggleGroup>
                            <ToggleGroup fx:id="sortBy" />
                        </toggleGroup>
                    </RadioMenuItem>
                    <RadioMenuItem fx:id="titleSort" mnemonicParsing="false" onAction="#sortByTitle" text="Sắp xếp theo Bài hát" toggleGroup="$sortBy" />
                    <RadioMenuItem fx:id="artistSort" mnemonicParsing="false" onAction="#sortByArtist" text="Sắp xếp theo Ca sỹ" toggleGroup="$sortBy" />
                    <RadioMenuItem fx:id="albumSort" mnemonicParsing="false" onAction="#sortByAlbum" text="Sắp xếp theo AlbumDao" toggleGroup="$sortBy" />
                    <RadioMenuItem fx:id="genreSort" mnemonicParsing="false" onAction="#sortByGenre" text="Sắp xếp theo Thể loại" toggleGroup="$sortBy" />
                    <RadioMenuItem fx:id="composerSort" mnemonicParsing="false" onAction="#sortByComposer" text="Sắp xếp theo Soạn nhạc" toggleGroup="$sortBy" />
                    <RadioMenuItem fx:id="yearSort" mnemonicParsing="false" onAction="#sortByYear" text="Sắp xếp theo Năm" toggleGroup="$sortBy" />
                    <RadioMenuItem fx:id="durationSort" mnemonicParsing="false" onAction="#sortByDuration" text="Sắp xếp theo Thời lượng" toggleGroup="$sortBy" />
                    <SeparatorMenuItem mnemonicParsing="false" />
                    <RadioMenuItem fx:id="ascendingOrder" mnemonicParsing="false" onAction="#ascendingSort" text="Tăng dần">
                  <toggleGroup>
                            <ToggleGroup fx:id="order" />
                  </toggleGroup></RadioMenuItem>
                    <RadioMenuItem fx:id="descendingOrder" mnemonicParsing="false" onAction="#descendingSort" selected="true" text="Giảm dần" toggleGroup="$order" />
                </Menu>
                <SeparatorMenuItem mnemonicParsing="false" />
                <MenuItem mnemonicParsing="false" onAction="#showSongDetail" text="Xem chi tiết bài hát" />
                <SeparatorMenuItem mnemonicParsing="false" />
                <MenuItem mnemonicParsing="false" text="Ẩn cột trái" />
            </Menu>
        </MenuBar>
    </top>
    <center>
        <TableView fx:id="songTable" blendMode="MULTIPLY" cache="true" onContextMenuRequested="#handleContextMenuTableView" BorderPane.alignment="CENTER">
            <columns>
                <TableColumn fx:id="trackColumn" prefWidth="66.0" text="Track" />
                <TableColumn fx:id="titleColumn" editable="false" minWidth="270.0" prefWidth="337.0" text="Tựa đề" />
                <TableColumn fx:id="artistColumn" minWidth="0.0" prefWidth="108.0" text="Ca sỹ" />
                <TableColumn fx:id="albumColumn" prefWidth="200.0" text="AlbumDao" />
                <TableColumn fx:id="creatorColumn" prefWidth="120.0" text="Tác giả" />
                <TableColumn fx:id="genreColumn" prefWidth="115.0" text="Thể loại" />
                <TableColumn fx:id="durationColumn" prefWidth="88.0" text="Thời lượng" />
                <TableColumn fx:id="bitRateColumn" prefWidth="111.0" text="Bitrate" />
            </columns>
            <contextMenu>
                <ContextMenu fx:id="contextTable">
                    <items>
                        <Menu mnemonicParsing="false" text="Thêm">
                            <MenuItem mnemonicParsing="false" onAction="#addFiles" text="Thêm từ Files..." />
                            <MenuItem mnemonicParsing="false" onAction="#addFolder" text="Thêm từ Folder..." />
                        </Menu>
                        <MenuItem mnemonicParsing="false" onAction="#showSongDetail" text="Sửa Thông tin..." />
                        <MenuItem mnemonicParsing="false" onAction="#removeSong" text="Xoá Bài hát" />
                  <MenuItem mnemonicParsing="false" onAction="#deleteSong" text="Xoá Bài hát trong máy..." />
                        <SeparatorMenuItem mnemonicParsing="false" />
                        <MenuItem mnemonicParsing="false" onAction="#showSongDetail" text="Xem chi tiết..." />
                        <SeparatorMenuItem mnemonicParsing="false" />
                        <MenuItem mnemonicParsing="false" onAction="#openFileLocation" text="Mở đường dẫn..." />
                    </items>
                </ContextMenu>
            </contextMenu>
            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
            </columnResizePolicy>
        </TableView>
    </center>
    <left>
        <VBox prefHeight="200.0" prefWidth="200.0" BorderPane.alignment="CENTER">
            <effect>
                <Glow />
            </effect>
            <TilePane />
            <Button mnemonicParsing="false" onAction="#showSongTable" prefHeight="50.0" prefWidth="200.0" text="Bái hát" />
            <Separator prefWidth="200.0" />
            <Button mnemonicParsing="false" onAction="#showArtistPane" prefHeight="50.0" prefWidth="200.0" text="Ca sỹ" />
            <Separator prefWidth="200.0" />
            <Button mnemonicParsing="false" onAction="#showAlbumPane" prefHeight="50.0" prefWidth="200.0" text="AlbumDao" />
            <Separator prefWidth="200.0" />
            <Button mnemonicParsing="false" onAction="#showGenrePane" prefHeight="50.0" prefWidth="200.0" text="Thể loại" />
            <Pane prefHeight="420.0" prefWidth="200.0">
                <ImageView fx:id="albumArt" fitHeight="200.0" fitWidth="200.0" pickOnBounds="true" preserveRatio="true">
                    <viewport>
                        <Rectangle2D height="500.0" width="500.0" />
                    </viewport>
                    <Image url="@../images/default_album_cover.png" />
                </ImageView>
                <Label fx:id="titleLabel" alignment="CENTER" layoutX="10.0" layoutY="211.0" prefHeight="50.0" prefWidth="180.0" text="Tên Bài Hát" textAlignment="CENTER" visible="false" wrapText="true" />
                <Label fx:id="artistLabel" alignment="CENTER" layoutX="10.0" layoutY="256.0" prefHeight="50.0" prefWidth="180.0" text="Tên Ca sỹ" textAlignment="CENTER" visible="false" wrapText="true" />
                <Label fx:id="albumLabel" alignment="CENTER" layoutX="10.0" layoutY="306.0" prefHeight="50.0" prefWidth="180.0" text="Tên AlbumDao" textAlignment="CENTER" visible="false" wrapText="true" />
                <Label fx:id="genreLabel" alignment="CENTER" layoutX="10.0" layoutY="356.0" prefHeight="50.0" prefWidth="180.0" text="Tên Thể Loại" textAlignment="CENTER" visible="false" wrapText="true" />
                <Separator layoutY="421.0" prefHeight="0.0" prefWidth="200.0" />
            </Pane>
        </VBox>
    </left>
    <bottom>
        <AnchorPane prefHeight="78.0" prefWidth="1244.0" BorderPane.alignment="CENTER">
            <Separator layoutX="205.0" layoutY="-1.0" prefWidth="200.0" />
            <Label fx:id="libraryName" layoutX="587.0" layoutY="28.0" text="Thư viện nhạc của Admin">
                <font>
                    <Font name="System Bold" size="18.0" />
                </font>
            </Label>
         <TextField fx:id="searchBar" layoutX="1071.0" layoutY="24.0" maxWidth="200.0" onKeyTyped="#searchSong" prefWidth="200.0" AnchorPane.rightAnchor="15.0" />
         <Label layoutX="968.0" layoutY="28.0" text="Tìm kiếm">
            <font>
               <Font name="System Bold" size="18.0" />
            </font>
         </Label>
        </AnchorPane>
    </bottom>
</BorderPane>
